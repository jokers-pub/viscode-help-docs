## 组件方法

本章着重介绍组件方法的创建与维护。

### 概述

除了在组件的生命周期函数中维护逻辑，平台还赋予开发人员创建组件方法的能力。通过将公共业务逻辑创建为组件内的方法，有助于更高效地维护组件。将这些方法对外公开后，还能实现从外部调用组件内部方法，这是实现高级复杂组件的关键操作流程。

### 如何创建/编辑方法

在 `组件数据` 面板的 `逻辑事件 - 组件方法` 处，能够添加和维护组件方法。

![](/workbench/component-method.png)

打开方法创建面板后，平台要求填写以下方法相关数据：

![](/workbench/component-method2.png)

-   **方法名称**：需填写方法的名称，要求使用英文字母，且在当前组件内具有唯一性。
-   **备注/标题**：可为方法起一个别名，以便快速了解该方法的用途与含义。
-   **注释说明**：在此配置方法的注释，当使用该方法时，鼠标移入可展示更多关于此方法的介绍。
-   **是否公开**：若配置为公开方法，便允许外部调用，详细内容可参考后续小节。
-   **异步函数**：若标记为异步函数，该方法将使用 `async` 修饰。平台在逻辑编排保存时，会自动判断是否包含异步处理，并对异步函数的修复提供提示。当然，也可在此手动标记该方法的异步标识。
-   **参数声明**：在参数声明区域可添加方法参数，参数声明可参考：[字段维护](/workbench/property)。
-   **返回类型**：可在此定义当前方法的返回值类型。

### 如何使用方法

我们将从两个角度去介绍如何使用组件方法：

#### 内部使用

在页面布局中，可通过组件参数（表达式）的方式来使用组件方法。
![](/workbench/component-method3.png)

在逻辑编排过程中，既能够通过表达式（代码）的方式调用内部方法，也可以借助“内部方法调用”来实现对组件内部方法的调用：

1. **在代码表达式中**：通过`this.`的方式进行调用。
   ![](/workbench/component-method4.png)
2. **借助“内部方法调用”节点**：将“内部方法调用”节点拖至逻辑编排画布中，通过下拉框选择要调用的方法。此处会展示所有可调用的方法，其中就包含组件内部的方法。采用这种调用方式的优势在于，能以可视化的形式，实现快速的方法调用，同时还提供了可视化的参数配置。
   ![](/workbench/component-method5.png)

#### 外部调用

外部调用要求我们为组件配置**ref（组件标识）**，详细内容可参考[组件布局](/workbench/component-layout)。下面我们来了解一下如何使用组件提供的公开发方法。

![公开方法调用演示截图](/workbench/component5.png)

图中展示的所有可调用方法均为组件内的公开方法，未公开的方法不会在此处显示。

> 逻辑编排教程请查看：[逻辑编排](/workbench/workflow)
