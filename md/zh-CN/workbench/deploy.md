## 部署

在项目开发流程里，将开发好的项目部署上线是关键步骤。本章会详细说明如何对开发完成的项目开展在线构建，并部署到平台提供的免费云环境，具体操作如下。

> 特别提醒，部署操作仅针对**项目**类型的仓库，其他类型仓库不适用。

### 概述

平台提供免费云环境，极大便利了项目从开发到上线。借助该环境，可对已开发完成的项目在线构建编译，随后部署到相应环境。部署结束，平台自动分配专属域名，通过此域名就能访问部署好的项目。

> 平台还支持项目源码输出。若不想用平台云服务，可将代码导入自有环境自行部署。代码生成及导出方式可参考[代码生成](workbench/generate)。

完成项目开发后，要先对仓库发布新版本。构建部署仅针对已发行版本，所以部署前仓库中至少得有一个发行版本。

### 构建面板

完成版本发布后，在仓库首页找到`部署`功能面板，就能开启版本构建部署流程。

![](/workbench/deploy.png)

### 创建构建部署任务

进入部署面板，点击左上角的**立即构建**按钮，开始创建构建部署任务。

![](/workbench/deploy1.png)

创建构建部署任务时，需完成以下操作：

1. **选择版本**：从众多版本中，选定要构建部署的发行版本。若此处无可选版本，说明仓库尚未创建发行版本，需先创建版本，才能进行项目部署。
   ![](/workbench/deploy2.png)
2. **选择环境**：完成版本选择后，平台自动分析所选版本维护的环境变量。在列表中挑选期望用于构建的环境变量文件。
   ![](/workbench/deploy3.png)
   选定环境文件后，平台自动展示文件中所有**已配置**的环境变量。此时需仔细核对，确保环境变量与项目需求一致，确认所选环境无误。

### 确认并执行任务

完成构建任务信息填写后，点击确定按钮，系统创建任务，平台随即启动自动化构建和部署流程。

[video](/workbench/deploy.mp4)

构建和部署过程中，可实时查看任务状态，了解任务进展。若想深入了解构建详细流程和日志，点击任务后的**任务日志**选项即可。

> 为保护开发人员知识产权和数据敏感信息，非团队成员无法查看**任务日志**，以此保障项目信息安全与保密。

### 如何访问

部署任务完成后，在仓库页点击**访问部署环境**链接，即可访问发布后的项目。

![](/workbench/deploy4.png)

以`joker/OfficialWebsite`仓库为例，平台按组织名+仓库名规则，自动分配域名[https://joker_officialwebsite.app.jokers.pub/](https://joker_officialwebsite.app.jokers.pub/)。

> 需注意，域名依仓库组织名和仓库名生成，并自动创建 DNS 解析规则。后续若转让仓库或修改仓库名称，部署访问地址会自动更新解析，确保项目正常访问不受影响。
